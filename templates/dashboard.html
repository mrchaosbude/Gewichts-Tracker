<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  </head>
  <body>
    <div class="container mt-4">
      <h2>Dashboard</h2>
      <p>
        Willkommen, {{ current_user.username }}!
        <a href="{{ url_for('logout') }}" class="btn btn-outline-secondary btn-sm ml-2">Logout</a>
        {% if current_user.is_admin %}
          <a href="{{ url_for('admin_overview') }}" class="btn btn-warning btn-sm ml-2">Admin</a>
        {% endif %}
      </p>
      <h3>Deine Trainingspl채ne</h3>
      <a href="{{ url_for('create_training_plan') }}" class="btn btn-success mb-3 btn-block">Neuen Trainingsplan erstellen</a>
      <ul class="list-group">
        {% for plan in training_plans %}
          <li class="list-group-item">
            <a href="{{ url_for('training_plan_detail', training_plan_id=plan.id) }}">{{ plan.title }}</a>
          </li>
        {% endfor %}
      </ul>
      <a href="{{ url_for('template_plans') }}" class="btn btn-info btn-block mt-3">Vorlagen ansehen</a>
      <div class="dropdown mt-3">
        <button class="btn btn-outline-primary btn-block dropdown-toggle" type="button" id="dashboardActionsDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Weitere Aktionen
        </button>
        <div class="dropdown-menu dropdown-menu-right w-100" aria-labelledby="dashboardActionsDropdown">
          <h6 class="dropdown-header">Datenexport</h6>
          <a class="dropdown-item" href="{{ url_for('export_training_data') }}">Trainingsdaten als JSON exportieren</a>
          <a class="dropdown-item" href="{{ url_for('export_training_data', format='csv') }}">Trainingsdaten als CSV exportieren</a>
          <div class="dropdown-divider"></div>
          <span class="dropdown-item-text text-muted small">JSON-Export unterst체tzt optionale ZIP-Komprimierung 체ber <code>?zip=1</code>.</span>
        </div>
      </div>
      {% if current_user.is_admin or current_user.is_trainer %}
        <a href="{{ url_for('admin_template_plans') }}" class="btn btn-warning btn-block mt-3">Template Trainingspl채ne verwalten</a>
      {% endif %}
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-LtrjvnR4/Jkk+1AnsuGukdxbCJO/q9OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
  </body>
</html>
